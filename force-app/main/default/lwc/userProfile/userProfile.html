<template>
  <!-- ADA Issue: Missing document language and skip navigation -->
  <div class="user-profile-container">
    <!-- ADA Issue: Missing main landmark -->
    
    <!-- ADA Issue: Image without alt text -->
    <div class="profile-header">
      <img src={user.profilePicture} class="profile-image" />
      
      <!-- ADA Issue: Status indicator using color only -->
      <span class="status-indicator" style="background-color: green;"></span>
      
      <!-- ADA Issue: Heading hierarchy issues (should start with h1) -->
      <h3>{user.name}</h3>
      <h5>{user.title}</h5>
    </div>

    <!-- ADA Issue: Interactive elements without keyboard support -->
    <div class="action-buttons">
      <span onclick={handleEdit} class="edit-btn">✏️</span>
      <span onclick={handleDelete} class="delete-btn">🗑️</span>
      <span onclick={handleShare} class="share-btn">📤</span>
    </div>

    <!-- ADA Issue: Form without proper structure -->
    <div class="profile-form">
      <!-- ADA Issue: Input without label -->
      <input type="text" placeholder="Enter your name" value={user.name} onchange={handleNameChange} />
      
      <!-- ADA Issue: Required field not indicated -->
      <input type="email" placeholder="Email address" value={user.email} />
      
      <!-- ADA Issue: Select without label -->
      <select onchange={handleDepartmentChange}>
        <option value="">Choose department</option>
        <option value="engineering">Engineering</option>
        <option value="marketing">Marketing</option>
        <option value="sales">Sales</option>
      </select>
      
      <!-- ADA Issue: Checkbox without proper labeling -->
      <input type="checkbox" id="notifications" />
      <span onclick={toggleNotifications}>Enable notifications</span>
      
      <!-- ADA Issue: Button without descriptive text -->
      <button onclick={handleSave} style="background: #28a745; color: white;">
        💾
      </button>
    </div>

    <!-- ADA Issue: Dynamic content without live region -->
    <template if:true={showSuccessMessage}>
      <div class="success-msg" style="color: green;">
        ✓ Profile updated successfully
      </div>
    </template>
    
    <!-- ADA Issue: Error message without proper association -->
    <template if:true={errorMessage}>
      <div class="error-msg" style="color: red;">
        {errorMessage}
      </div>
    </template>

    <!-- ADA Issue: Table without proper headers -->
    <table class="user-stats">
      <tr>
        <td>Projects</td>
        <td>{user.projectCount}</td>
      </tr>
      <tr>
        <td>Tasks Completed</td>
        <td>{user.tasksCompleted}</td>
      </tr>
      <tr>
        <td>Rating</td>
        <!-- ADA Issue: Rating display without screen reader support -->
        <td>
          <span onclick={handleRating} data-rating="1">⭐</span>
          <span onclick={handleRating} data-rating="2">⭐</span>
          <span onclick={handleRating} data-rating="3">⭐</span>
          <span onclick={handleRating} data-rating="4">⭐</span>
          <span onclick={handleRating} data-rating="5">⭐</span>
        </td>
      </tr>
    </table>

    <!-- ADA Issue: Modal trigger without proper accessibility -->
    <div onclick={openModal} class="view-details">
      <span>View Full Profile</span>
      <span class="arrow">→</span>
    </div>

    <!-- ADA Issue: Modal without proper focus management -->
    <template if:true={isModalOpen}>
      <div class="modal-overlay">
        <div class="modal-content">
          <!-- ADA Issue: Close button without label -->
          <button onclick={closeModal} class="close-btn">×</button>
          
          <div class="modal-body">
            <!-- ADA Issue: Content without proper structure -->
            <div>Full profile details would go here...</div>
            
            <!-- ADA Issue: Links without descriptive text -->
            <a href="/profile/edit">Click here</a>
            <a href="/profile/delete" style="color: red;">Delete</a>
          </div>
        </div>
      </div>
    </template>
  </div>
</template>