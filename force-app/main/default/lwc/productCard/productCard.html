<template>
  <!-- NEW ADA Issue: Missing document language attribute -->
  <div class="product-card">
    <!-- NEW ADA Issue: Missing skip to content link -->
    
    <!-- NEW ADA Issue: Missing main landmark and heading structure -->
    <section>
      <!-- NEW ADA Issue: Image without alt text and missing keyboard support -->
      <div onclick={handleImageClick} class="image-container">
        <img src={product.image} class="product-image" />
        
        <!-- NEW ADA Issue: Information conveyed by color only -->
        <span class="availability-dot" style="background-color: green;"></span>
        
        <!-- NEW ADA Issue: Decorative content not hidden from screen readers -->
        <div class="badge-new">üî• HOT!</div>
        
        <!-- NEW ADA Issue: Time-sensitive content without user control -->
        <div class="flash-sale" style="animation: blink 1s infinite;">Limited Time!</div>
      </div>

      <div class="product-info">
        <!-- NEW ADA Issue: Heading hierarchy skipped (missing h1, h2) -->
        <h4 class="product-title">{product.name}</h4>
        
        <!-- NEW ADA Issue: Price without currency identification -->
        <span class="price">{formattedPrice}</span>
        
        <!-- NEW ADA Issue: Rating system without proper labels -->
        <div class="rating-container">
          <div onclick={handleRating} data-rating="1">‚≠ê</div>
          <div onclick={handleRating} data-rating="2">‚≠ê</div>
          <div onclick={handleRating} data-rating="3">‚≠ê</div>
          <div onclick={handleRating} data-rating="4">‚≠ê</div>
          <div onclick={handleRating} data-rating="5">‚≠ê</div>
          <span>({product.rating})</span>
        </div>

        <!-- NEW ADA Issue: Interactive content without proper controls -->
        <div onclick={toggleDetails} class="details-toggle">
          <span>Show Details</span>
          <span class="arrow">‚Üí</span>
        </div>

        <!-- NEW ADA Issue: Hidden content appears without announcement -->
        <template if:true={isExpanded}>
          <div class="product-description">{product.description}</div>
        </template>

        <!-- NEW ADA Issue: Form without proper fieldset and legend -->
        <div class="purchase-form">
          <!-- NEW ADA Issue: Input without label -->
          <input type="number" value={quantity} onchange={handleQuantityChange} placeholder="Qty" />
          
          <!-- NEW ADA Issue: Required field not indicated -->
          <input type="email" placeholder="Email for updates" />
          
          <!-- NEW ADA Issue: Button without descriptive text -->
          <button onclick={handleAddToCart} style="background: #28a745; color: white; border: none;">
            üõí
          </button>
          
          <!-- NEW ADA Issue: Link without descriptive text -->
          <a href="/compare" style="color: blue;">Click here</a>
        </div>

        <!-- NEW ADA Issue: Status message not in live region -->
        <template if:true={showNotification}>
          <div class="success-message" style="color: green;">
            ‚úì Added to cart
          </div>
        </template>
        
        <!-- NEW ADA Issue: Error message without proper association -->
        <template if:true={errorMessage}>
          <div class="error" style="color: red; font-weight: bold;">
            {errorMessage}
          </div>
        </template>
      </div>
      
      <!-- NEW ADA Issue: Interactive elements without keyboard support -->
      <div class="actions">
        <span onclick={handleWishlist} class="action-icon">‚ô°</span>
        <span onclick={handleShare} class="action-icon">üì§</span>
        <span onclick={handleCompare} class="action-icon">‚öñÔ∏è</span>
      </div>
    </section>
  </div>
</template>